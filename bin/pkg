#!/bin/sh

_pkg() {
  local err
  for p do
    case $(os) in
      alpine)
        apk info --quiet --installed $p || {
          progress start pkg $p
          err=$(apk add --quiet $p 2>&1)
          progress finish $?
          [ -z "$err" ] || progress result "$err"
        }
        ;;
    esac
  done
}

_pkg "$@"
